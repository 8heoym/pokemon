# 📋 Phase 1: 모험 지도 UI 전환 - 테스트 시나리오

## 🎯 테스트 목표
- **PRD [F-1.1] 그리드 UI 제거** 검증
- **PRD [F-1.2] 시각적 학습 경로** 구현 확인
- **PRD [F-1.3-F-1.6] 테마 지역 및 스테이지 시스템** 동작 검증
- **기존 기능 무손실** 리그레이션 테스트

## 📊 테스트 매트릭스

### 1. UI/UX 변경사항 테스트

#### 1.1 모험 지도 렌더링 테스트
**시나리오 ID:** TC-P1-001  
**목적:** AdventureMap 컴포넌트 정상 렌더링 확인  
**전제조건:** 
- 서버 실행 중 (localhost:3001, localhost:3000)
- 테스트 사용자 생성 (completedTables: [2, 3], totalExperience: 150)

**테스트 단계:**
1. 게임 대시보드 접속
2. 모험 지도 표시 확인
3. 8개 지역(2단~9단) 표시 확인
4. 지역별 테마 색상 및 이모지 확인

**예상 결과:**
- ✅ 기존 그리드 UI가 완전히 제거됨
- ✅ 8개 테마 지역이 지그재그 형태로 배치됨
- ✅ 각 지역마다 고유한 색상과 이모지 표시
- ✅ "피카츄의 풀숲", "꼬부기의 연못" 등 테마명 표시

#### 1.2 스테이지 진행도 시각화 테스트
**시나리오 ID:** TC-P1-002  
**목적:** PRD [F-1.5] 시각적 피드백 구현 확인  

**테스트 데이터:**
```json
{
  "userId": "test-user-001",
  "completedTables": [2, 3],
  "totalExperience": 250,
  "caughtPokemon": [1, 25, 7]
}
```

**테스트 단계:**
1. 완료된 지역 (2단, 3단) 스테이지 상태 확인
2. 진행 중인 지역 (4단~9단) 스테이지 상태 확인
3. 잠긴 지역 스테이지 상태 확인
4. 스테이지 호버 효과 및 클릭 가능성 확인

**예상 결과:**
- ✅ 완료 스테이지: 초록색 + ✅ 아이콘 + 완료 진행바
- ✅ 사용 가능 스테이지: 흰색 + 📚 아이콘 + 호버 효과
- ✅ 잠긴 스테이지: 회색 + 🔒 아이콘 + 비활성화

#### 1.3 배지 시스템 표시 테스트
**시나리오 ID:** TC-P1-003  
**목적:** PRD [F-1.6] 배지 시스템 시각적 구현 확인  

**테스트 단계:**
1. 완료된 구구단 지역에 배지 표시 확인
2. 상단 진행도에 "2/8 배지" 표시 확인
3. 전체 완료 시 축하 메시지 표시 확인 (completedTables: [2,3,4,5,6,7,8,9])

**예상 결과:**
- ✅ 완료된 지역 우상단에 🏆 배지 표시
- ✅ 상단에 현재 배지 수/전체 배지 수 표시
- ✅ 8개 배지 완성 시 축하 애니메이션

### 2. 기능 연동 테스트

#### 2.1 스테이지 선택 → 문제 생성 테스트
**시나리오 ID:** TC-P1-004  
**목적:** AdventureMap에서 ProblemCard로의 전환 확인  

**테스트 단계:**
1. 사용 가능한 스테이지 클릭
2. 로딩 화면 표시 확인
3. 문제 카드로 전환 확인
4. 문제 데이터 올바른 로딩 확인

**예상 결과:**
- ✅ 스테이지 클릭 시 selectedStage 상태 업데이트
- ✅ handleStageSelect 함수 호출 및 API 요청
- ✅ gameMode 'map' → 'problem' 전환
- ✅ 해당 구구단 문제 생성 (regionId와 매칭)

#### 2.2 문제 풀이 → 모험 지도 복귀 테스트
**시나리오 ID:** TC-P1-005  
**목적:** 문제 풀이 후 지도 복귀 기능 확인  

**테스트 단계:**
1. 문제 정답 입력 및 제출
2. "모험 지도로 돌아가기" 버튼 클릭
3. 지도 화면 복귀 확인
4. 상태 초기화 확인

**예상 결과:**
- ✅ handleBackToMap 함수 정상 동작
- ✅ gameMode 'problem' → 'map' 전환
- ✅ selectedStage, currentProblem 상태 초기화
- ✅ 모험 지도 정상 표시

### 3. 리그레이션 테스트

#### 3.1 기존 API 호환성 테스트
**시나리오 ID:** TC-P1-006  
**목적:** 기존 백엔드 API와의 호환성 확인  

**테스트 API 엔드포인트:**
- `POST /api/problems/generate`
- `POST /api/problems/submit`
- `GET /api/users/:userId`

**테스트 단계:**
1. 각 API 엔드포인트 정상 응답 확인
2. 기존 데이터 구조 유지 확인
3. 오류 처리 동작 확인

#### 3.2 사용자 데이터 보존 테스트
**시나리오 ID:** TC-P1-007  
**목적:** 기존 사용자 데이터 무손실 확인  

**테스트 단계:**
1. 기존 사용자 로그인
2. completedTables 데이터 정확한 반영 확인
3. totalExperience 정확한 반영 확인
4. caughtPokemon 데이터 정확한 반영 확인

#### 3.3 포켓몬 도감 및 통계 기능 테스트
**시나리오 ID:** TC-P1-008  
**목적:** 기존 부가 기능들의 정상 동작 확인  

**테스트 단계:**
1. 포켓몬 도감 모달 열기/닫기
2. 하단 통계 카드 정상 표시
3. UserProfile 컴포넌트 정상 표시

### 4. 성능 및 사용성 테스트

#### 4.1 렌더링 성능 테스트
**시나리오 ID:** TC-P1-009  
**목적:** 새로운 UI의 렌더링 성능 확인  

**측정 항목:**
- 모험 지도 초기 렌더링 시간
- 스테이지 전환 애니메이션 부드러움
- 메모리 사용량 변화

**성능 기준:**
- ✅ 초기 렌더링: < 2초
- ✅ 애니메이션 프레임: 60fps 유지
- ✅ 메모리 증가: < 10MB

#### 4.2 반응형 디자인 테스트
**시나리오 ID:** TC-P1-010  
**목적:** 다양한 화면 크기에서의 동작 확인  

**테스트 해상도:**
- 모바일: 375x667
- 태블릿: 768x1024
- 데스크톱: 1920x1080

## 🔍 QA 체크리스트

### ✅ 필수 검증 항목
- [ ] 기존 그리드 UI 완전 제거
- [ ] 8개 테마 지역 정상 표시
- [ ] 스테이지 상태 시각화 (완료/사용가능/잠김)
- [ ] 배지 시스템 정상 동작
- [ ] 스테이지 선택 → 문제 생성 플로우
- [ ] 문제 풀이 → 지도 복귀 플로우
- [ ] 기존 API 호환성 유지
- [ ] 사용자 데이터 보존
- [ ] 성능 기준 충족

### ⚠️ 알려진 이슈 및 제한사항
1. **스테이지 이름 표시:** 긴 이름의 경우 2줄로 표시 (line-clamp-2)
2. **애니메이션 지연:** 지역이 많을 경우 순차 애니메이션으로 인한 지연
3. **모바일 최적화:** 작은 화면에서 스테이지 버튼 크기 제한

### 🚨 롤백 조건
다음 중 하나라도 실패 시 이전 버전으로 롤백:
- 기존 API 호환성 깨짐
- 사용자 데이터 손실 발생
- 렌더링 성능 2초 초과
- 핵심 플로우 동작 불가

## 📝 테스트 실행 가이드

### 환경 설정
```bash
# 서버 실행
cd backend && npm run dev
cd frontend && npm run dev

# 테스트 데이터 생성
curl -X POST http://localhost:3001/api/users \
  -H "Content-Type: application/json" \
  -d '{"nickname": "테스트유저"}'
```

### 테스트 실행 순서
1. **기본 렌더링 테스트** (TC-P1-001 ~ TC-P1-003)
2. **기능 연동 테스트** (TC-P1-004 ~ TC-P1-005)  
3. **리그레이션 테스트** (TC-P1-006 ~ TC-P1-008)
4. **성능 테스트** (TC-P1-009 ~ TC-P1-010)

### 버그 리포팅 템플릿
```
**시나리오 ID:** TC-P1-XXX
**재현 단계:** 
1. ...
2. ...
**예상 결과:** ...
**실제 결과:** ...
**스크린샷:** [첨부]
**브라우저:** Chrome/Safari/Firefox
**OS:** macOS/Windows/Linux
```